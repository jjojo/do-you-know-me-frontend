{"ast":null,"code":"import _slicedToArray from \"/Users/Jonas/Development/Web/testGame/test-game/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Jonas/Development/Web/testGame/test-game/src/game-screen/gameScreen.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { State } from '../store';\nimport useSocket from 'use-socket.io-client';\n\nconst GameScreen = () => {\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        gameState = _useState2[0],\n        setGameState = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        room = _useState4[0],\n        setRoom = _useState4[1];\n\n  const _useSocket = useSocket('http://192.168.1.48:3000'),\n        _useSocket2 = _slicedToArray(_useSocket, 1),\n        socket = _useSocket2[0];\n\n  const _useContext = useContext(State),\n        state = _useContext.state,\n        dispatch = _useContext.dispatch;\n\n  console.log(socket);\n  useEffect(() => {\n    createGame(state.gameState.room);\n    socket.on('gameCreated', state => {\n      console.log(state);\n      setRoom(state.room);\n    });\n    socket.on('gameUpdate', gameState => {\n      console.log(gameState);\n      dispatch({\n        type: 'UPDATE_GAME_STATE',\n        payload: gameState\n      });\n    });\n  }, []);\n\n  const createGame = room => {\n    socket.emit('createGame', room);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, (state.gameState || {}).name || 'Game room loading'), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Room number: \", room), React.createElement(\"pre\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, JSON.stringify(state.gameState, null, \"  \")));\n};\n\nexport default GameScreen;","map":{"version":3,"sources":["/Users/Jonas/Development/Web/testGame/test-game/src/game-screen/gameScreen.js"],"names":["React","useState","useEffect","useContext","State","useSocket","GameScreen","gameState","setGameState","room","setRoom","socket","state","dispatch","console","log","createGame","on","type","payload","emit","name","JSON","stringify"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,UAApC,QAAqD,OAArD;AACA,SAASC,KAAT,QAAsB,UAAtB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;;AAKA,MAAMC,UAAU,GAAG,MAAM;AAAA,oBACWL,QAAQ,CAAC,EAAD,CADnB;AAAA;AAAA,QAChBM,SADgB;AAAA,QACLC,YADK;;AAAA,qBAECP,QAAQ,CAAC,IAAD,CAFT;AAAA;AAAA,QAEhBQ,IAFgB;AAAA,QAEVC,OAFU;;AAAA,qBAGJL,SAAS,CAAC,0BAAD,CAHL;AAAA;AAAA,QAGfM,MAHe;;AAAA,sBAKKR,UAAU,CAACC,KAAD,CALf;AAAA,QAKfQ,KALe,eAKfA,KALe;AAAA,QAKRC,QALQ,eAKRA,QALQ;;AAOvBC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AAGAT,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,UAAU,CAACJ,KAAK,CAACL,SAAN,CAAgBE,IAAjB,CAAV;AACAE,IAAAA,MAAM,CAACM,EAAP,CAAU,aAAV,EAA0BL,KAAD,IAAW;AAClCE,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACAF,MAAAA,OAAO,CAACE,KAAK,CAACH,IAAP,CAAP;AACD,KAHD;AAKAE,IAAAA,MAAM,CAACM,EAAP,CAAU,YAAV,EAAyBV,SAAD,IAAe;AACrCO,MAAAA,OAAO,CAACC,GAAR,CAAYR,SAAZ;AACAM,MAAAA,QAAQ,CAAC;AAACK,QAAAA,IAAI,EAAE,mBAAP;AAA4BC,QAAAA,OAAO,EAAEZ;AAArC,OAAD,CAAR;AACD,KAHD;AAID,GAXQ,EAWN,EAXM,CAAT;;AAcA,QAAMS,UAAU,GAAIP,IAAD,IAAU;AAC3BE,IAAAA,MAAM,CAACS,IAAP,CAAY,YAAZ,EAA0BX,IAA1B;AACD,GAFD;;AAIA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACG,KAAK,CAACL,SAAN,IAAmB,EAApB,EAAwBc,IAAxB,IAAgC,mBADnC,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAkBZ,IAAlB,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGa,IAAI,CAACC,SAAL,CAAeX,KAAK,CAACL,SAArB,EAAgC,IAAhC,EAAsC,IAAtC,CADH,CALF,CADF;AAWD,CAvCD;;AAyCA,eAAeD,UAAf","sourcesContent":["import React, {useState, useEffect, useContext} from 'react';\nimport { State } from '../store'\nimport useSocket from 'use-socket.io-client';\n\n\n\n\nconst GameScreen = () => {\n  const [gameState, setGameState] = useState({});\n  const [room, setRoom] = useState(null);\n  const [ socket ] = useSocket('http://192.168.1.48:3000')\n\n  const { state, dispatch } = useContext(State)\n\n  console.log(socket)\n \n \n  useEffect(() => {\n    createGame(state.gameState.room)\n    socket.on('gameCreated', (state) => {\n      console.log(state)\n      setRoom(state.room)\n    })\n\n    socket.on('gameUpdate', (gameState) => {\n      console.log(gameState)\n      dispatch({type: 'UPDATE_GAME_STATE', payload: gameState})\n    })\n  }, [])\n\n\n  const createGame = (room) => {\n    socket.emit('createGame', room);\n  }\n  \n  return (\n    <div>\n      <h1>\n        {(state.gameState || {}).name || 'Game room loading'} \n      </h1>\n      <h3>Room number: {room}</h3>\n      <pre>\n        {JSON.stringify(state.gameState, null, \"  \")}\n      </pre>\n    </div>\n  )\n}\n\nexport default GameScreen;"]},"metadata":{},"sourceType":"module"}